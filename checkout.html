<!DOCTYPE html>
<html>
<head>
<title>checkout</title>
</head>
<body>
  <div>
    <h1>Gör nån cool kundinfo sida med FireBase</h1> 

    <h4>Order Details:</h4> <br>
    <div id="Product 1" style="display: none;">Product 1 
      <button onclick="decrement()">-</button>
      <span id="counter1">1</span>
      <button onclick="increment()">+</button>
    </div>

    <div id="Product 2" style="display: none;">Product 2 
        <button onclick="decrement()">-</button>
        <span id="counter2">1</span>
        <button onclick="increment()">+</button>
    </div>
  </div>

  <div id="Details">
    <H4>Customer Name:</H4>
    <input id="enterName" type="text" size="20">

    <H4>Email:</H4>
    <input id="enterEmail" type="text" size="20">

    <H4>Address:</H4>
    <input id="enterAddress" type="text" size="20"> 
    
    <br><br>
    <button id="Insert">Confirm order</button>
  </div>

  <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyAu03SWx4j-tUBHXRWOZJ5vcpLnPJq0lKk",
        authDomain: "pro1-dd1334.firebaseapp.com",
        databaseURL: "https://pro1-dd1334-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "pro1-dd1334",
        storageBucket: "pro1-dd1334.appspot.com",
        messagingSenderId: "874706845727",
        appId: "1:874706845727:web:51039a82d59f97300f552a",
        measurementId: "G-XLG9W12P3W"
      };
    
      // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    import {getDatabase, set, get, update, remove, ref, child}
    from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js"

    const db = getDatabase();

    var enterName = document.querySelector("#enterName");
    var enterEmail = document.querySelector("#enterEmail");
    var enterAddress = document.querySelector("#enterAddress");

    var Insert = document.querySelector("#Insert");

    function insertData() {
      set(ref(db, "Customers/" + enterName.value), {
          Name: enterName.value,
          Email: enterEmail.value,
          Address: enterAddress.value
      })
      .then(()=>{
        alert("Customer added")
      })
      .catch((error)=>{
        alert("Error")
      });

    }

    Insert.addEventListener('click', insertData);
  </script>

</body>
</html>
